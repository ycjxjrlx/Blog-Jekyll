---
layout: post
title: "我的第一款Unity 2D游戏 "
date: "2021-06-10"
keywords: unity 2D 游戏
category: unity
tags: unity 2D 游戏
---

下载链接：[电脑端](/assets/game/Antman V Ironman1.10.rar)

下载链接：[手机端（安卓）](/assets/game/蚁人大战钢铁侠.apk)

欢迎下载体验并反馈意见。:blush:

## 项目简介

　　本项目基于Unity2D平台，是一款横版跑酷闯关游戏，游戏名为**蚁人大战钢铁侠**。

　　游戏**玩法灵感**来源于一款横版跑酷手游《忍者必须死3》。第一关灵感源于其竞技场模式，游戏任务为躲避障碍物，通关条件为拾取足够的道具；第二关灵感源于其悬赏令模式，游戏任务为躲避 Boss 攻击，通关条件为击败Boss。游戏**背景**灵感源于科幻电影《蚁人》，蚁人作为漫威旗下知名的超级英雄，拥有将身体变大和缩小的超能力。游戏角色确定后，需要引出一名实力强劲的对手，漫威系列电影中，蚁人和钢铁侠存在过节，于是本项目将钢铁侠作为人气“反派”。

　　第一关是的具体实现为躲避场景内飞来的火焰和收集蚂蚁，蚂蚁数量为 10 时，第一关通过；第二关的具体实现是躲避Boss钢铁侠发射的激光炮和冲击光束，收集足够的蚂蚁，然后召唤蚂蚁将 Boss 十点血量打掉，游戏即通关。

## 设计思想

### 1.主页面

　　游戏的第一个场景为主界面，由画布和两个按钮组成。
![层级界面](/assets/imgs/Unity/image004.png)

![游戏界面](/assets/imgs/Unity/image006.png)

### 2. 第一关

　　点击主界面按钮 Play 进入第一关。

#### ① 玩家操纵的游戏角色：蚁人。
![操纵界面](/assets/imgs/Unity/image008.png)

　　玩家操纵的角色 Player，有缩小变大的能力（按键 A 和 D 缩小或变大），可以进行三段跳跃（按空格键可跳跃），可以召唤蚂蚁（按下 B 键）。角色缩小后，为了游戏视觉效果更加合理，增大其重力，使玩家在视觉和手感上能觉察出角色跳跃能力变弱；角色变大后（受镜头以及背景大小限制，角色变大不会超过角色正常大小），恢复正常重力，使角色比缩小时跳的更高，更加符合生活实际。

<div style="float:left;border:solid 1px 000;margin:2px;"><img src="/assets/imgs/Unity/image010.png" alt="screenshot" title="按下A角色缩小" width="350"  ></div>
<div style="float:left;border:solid 1px 000;margin:2px;"><img src="/assets/imgs/Unity/image012.png" alt="screenshot" title="按下D键角色变大" width="265"  ></div>
<div style="clear:both;"></div>


　　角色具有跳跃能力，也应当有一定的动画效果。

![动画](/assets/imgs/Unity/image014.png)

<div style="float:left;border:solid 1px 000;margin:2px;"><img src="/assets/imgs/Unity/image016.png" alt="screenshot" title="按下空格角色跳跃" width="340"  ></div>
<div style="float:left;border:solid 1px 000;margin:2px;"><img src="/assets/imgs/Unity/image018.png" alt="screenshot" title="角色落地后效果" width="349"  ></div>
<div style="clear:both;"></div>


#### ② 障碍物：飞行的火焰。

　　障碍物火焰为一个粒子系统，游戏中多个火焰是一定区域内随机摆放的，不同位置不同速度，甚至不同的循环始末点。飞行的火焰使游戏有了难度，有一定的不可控性，使得第一关通关难度非常高，多次调低难度后，最终将难度确立为困难。

![图片](/assets/imgs/Unity/image020.png)
<center>循环不同导致火焰同时出现</center>

　　虽然火焰摆放是随机的，但是在玩家看来：游戏每次运行，火焰都是同样的规律飞行。这给了玩家试错和提前准备的机会，我希望第一关保留一些需要手速的难点，玩家产生肌肉记忆后，方可通过。同时，第一关的多次尝试可以使玩家快速地熟悉游戏操作，自发地掌握游戏技巧与节奏。
　　玩家碰到火焰一次，游戏失败，弹出失败界面。

![图片](/assets/imgs/Unity/image022.png)

#### ③ 道具：飞蚁。

　　蚁和火焰作为第一关唯二的触发器，分为两类。一类作为道具被玩家拾取，标签为 ant，与火焰不发生反应；一类为召唤物，玩家按下 B键可召唤三只蚂蚁，标签为 antshoot，可以分别为玩家抵挡一个火焰。标签为 ant 的飞蚁移动速度为-1，标签为 antshoot 的飞蚁移动速度为1。但是他们由同一个 Int 变量 Ant 记录，当 Ant>3 时，按下 B 键即可召唤三只标签为 antshoot 的飞蚁，当 Ant<3 时，可通过拾取飞向玩家方向的 ant 飞蚁增加 Ant 数值。

　　Ant值在屏幕中显现，屏幕左上角有一个 UI 的 Text，实时显示当前收集的飞蚁数量，便于玩家知道技能是否可以释放。当 Ant=10 时，第一关成功通关。

![图片](/assets/imgs/Unity/image024.png)

### 3. 第二关

① Boss 钢铁侠出现，第二关游戏界面。
![图片](/assets/imgs/Unity/image026.png)

　　钢铁侠拥有两种攻击形态，飞行姿态以及防御姿态，
![图片](/assets/imgs/Unity/image028.png)

<div style="float:left;border:solid 1px 000;margin:2px;"><img src="/assets/imgs/Unity/image030.png" alt="screenshot" title="图片" width="144"  ></div>
<div style="float:left;border:solid 1px 000;margin:2px;"><img src="/assets/imgs/Unity/image032.png" alt="screenshot" title="图片" width="144"  ></div>
<div style="float:left;border:solid 1px 000;margin:2px;"><img src="/assets/imgs/Unity/image034.png" alt="screenshot" title="图片" width="257"  ></div>
<div style="clear:both;">
<center>从左至右分别为动画idle，parry和shoot。　　　　</center>

<div style="float:left;border:solid 1px 000;margin:2px;"><img src="/assets/imgs/Unity/image036.png" alt="screenshot" title="图片" height="243"  ></div>
<div style="float:left;border:solid 1px 000;margin:2px;"><img src="/assets/imgs/Unity/image038.png" alt="screenshot" title="图片" height="243"  ></div>
<div style="float:left;border:solid 1px 000;margin:2px;"><img src="/assets/imgs/Unity/image040.png" alt="screenshot" title="图片" height="243"  ></div>
<div style="clear:both;">
<center>Angry 动画；Boss移动范围</center>

Boss的移动，因为长期保持飞行姿态，将其重力设置为0，只需在toppoint、downpoint两点来回移动即可。

<div style="float:left;border:solid 1px 000;margin:2px;"><img src="/assets/imgs/Unity/image042.png" alt="screenshot" title="图片" height="185"  ></div>
<div style="float:left;border:solid 1px 000;margin:2px;"><img src="/assets/imgs/Unity/image044.png" alt="screenshot" title="图片" height="185"  ></div>
<div style="clear:both;">

　　冲击光束和光炮在相对 Boss 固定的两点 lightshoot 和 lasershoot通过 Instantiate 函数其产生预制体，冲击光束在飞出屏幕后自动销毁，光炮在产生后短时间迅速销毁。